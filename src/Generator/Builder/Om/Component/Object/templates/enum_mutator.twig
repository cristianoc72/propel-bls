if ($v !== null) {
    $valueSet = {{ tableMapName }}::getValueSet({{ constantName }});
    if (!in_array($v, $valueSet)) {
        throw new PropelException(sprintf('Value "%s" is not accepted in this enumerated column', $v));
    }
    $v = array_search($v, $valueSet);
}

if ($this->{{ columnName }} !== $v) {
    $this->{{ columnName }} = $v;
    $this->modifiedColumns->set({{ constantName }}, true);
}
